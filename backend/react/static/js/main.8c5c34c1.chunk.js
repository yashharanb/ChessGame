(this.webpackJsonpchess_on_the_go_frontend=this.webpackJsonpchess_on_the_go_frontend||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),r=n(40),i=n.n(r),l=(n(73),n(31),n(32),n(6)),o=n.n(l),m=n(11),u=n(3),d=n(12),j=n(7),b=n(45),h=n(41),O=n(65);function v(e,t,n){if(null===e)throw new Error("error, no connection to server");e.emit(t,n)}function x(e,t){var n=t.email===e.whitePlayer.email,a="white"===e.playerTurn;return!n&&!a||n&&a}function g(e){var t=Object(c.useState)(null),n=Object(u.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(null),i=Object(u.a)(r,2),l=i[0],o=i[1],m=Object(c.useRef)(null);Object(c.useEffect)((function(){var t=Object(h.io)().connect();t.on("user",(function(e){return s(JSON.parse(e))})),t.on("game",(function(e){return o(JSON.parse(e))})),t.on("input_error",(function(t){return e(new Error(t))})),m.current=t}),[e]);var d=Object(c.useCallback)((function(e){null!==a&&(o(null),v(m.current,"play_game",e.toString()))}),[a]),j=Object(c.useCallback)((function(e){if(null===l)throw new Error("error, cannot make move when no game.");if(null===a)throw new Error("invalid user");if("game"!==a.state)throw new Error("must be playing game");if(e.piece.toUpperCase().endsWith("P")&&"undefined"===typeof e.promotion&&(e.to.endsWith("8")||e.to.endsWith("1")))throw new Error("error, the developer forgot to promote a pawn, before calling makeMove");if(!x(l,a))throw new Error("not your turn!");v(m.current,"make_move",JSON.stringify(e))}),[l,a]);return null===a||null===l||"game"!==a.state||x(l,a)?{gameState:l,thisUser:a,makeMove:j,queueForGame:d}:{gameState:Object(b.a)(Object(b.a)({},l),{},{possibleMoves:[]}),thisUser:a,makeMove:j,queueForGame:d}}function f(){return w.apply(this,arguments)}function w(){return(w=Object(m.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/previousGames");case 2:if(!(t=e.sent).ok){e.next=16;break}return e.prev=4,e.next=7,t.text();case 7:return n=e.sent,e.abrupt("return",JSON.parse(n));case 11:throw e.prev=11,e.t0=e.catch(4),new Error("not logged in");case 14:e.next=17;break;case 16:throw new Error("Error, cannot get player statistics");case 17:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}function p(){return Object(a.jsx)("div",{className:"overall-loading-screen",children:Object(a.jsx)(d.a,{icon:"spinner",className:"fa-pulse fa-3x",style:{marginLeft:15}})})}function N(){var e=g(console.log),t=(e.gameState,e.thisUser),n=(e.makeMove,e.queueForGame,Object(c.useState)(null)),s=Object(u.a)(n,2),r=s[0],i=s[1];Object(c.useEffect)((function(){(function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(r);var l,b=0,h=0,O=0,v=null===r||void 0===r?void 0:r.length;if(r)for(var x=0;x<r.length;x++)(null===t||void 0===t?void 0:t.username)===r[x].blackPlayer.username?"black"===r[x].winner?b+=1:"white"===r[x].winner?h+=1:O+=1:"white"===r[x].winner?b+=1:"black"===r[x].winner?h+=1:O+=1;t&&(l=Math.round(t.elo));var w=Object(a.jsx)(p,{});return null!==t&&null!==r&&(w=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("p",{className:"lead",children:[Object(a.jsx)(d.a,{icon:"chess-king",className:"chess-king fa-3x",style:{marginLeft:15}}),"Games played: ",v]}),Object(a.jsxs)("p",{className:"lead",children:[Object(a.jsx)(d.a,{icon:"chess-king",className:"chess-king fa-3x"}),"Games won: ",b]}),Object(a.jsxs)("p",{className:"lead",children:[Object(a.jsx)(d.a,{icon:"chess-king",className:"chess-king fa-3x"}),"Games lost: ",h]}),Object(a.jsxs)("p",{className:"lead",children:[Object(a.jsx)(d.a,{icon:"chess-king",className:"chess-king fa-3x"}),"Games tied: ",O]}),Object(a.jsxs)("p",{className:"lead",children:[Object(a.jsx)(d.a,{icon:"chess-king",className:"chess-king fa-3x"}),"ELO Score: ",l]})]})),Object(a.jsxs)("div",{className:"container player_menu",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"jumbotron brown-border content-container",children:w})})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col mb-2",children:Object(a.jsx)(j.b,{className:"btn btn-secondary",to:"../regular",children:"Regular Game"})}),Object(a.jsx)("div",{className:"col mb-2",children:Object(a.jsx)(j.b,{className:"btn btn-secondary",to:"../speed",children:"Speed Game"})}),Object(a.jsx)("div",{className:"col mb-2",children:Object(a.jsx)(j.b,{className:"btn btn-secondary",to:"../blitz",children:"Blitz Game"})}),Object(a.jsx)("div",{className:"col mb-2",children:Object(a.jsx)(j.b,{className:"btn btn-secondary",to:"../playerstats",children:"Player Stats"})})]})]})}var A=n(10),k=(n(63),n(64),n.p+"static/media/playerStats.92a31c20.png");function y(){var e=Object(c.useState)(Object),t=Object(u.a)(e,2),n=(t[0],t[1]),s=Object(c.useState)(Object),r=Object(u.a)(s,2),i=(r[0],r[1]);var l=g(console.log),b=(l.gameState,l.thisUser),h=(l.makeMove,l.queueForGame,Object(c.useState)(null)),O=Object(u.a)(h,2),v=O[0],x=O[1];Object(c.useEffect)((function(){(function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var w,p,N,y,S="",M="",T="",E=[];if(v)for(var L=0;L<v.length;L++)(null===b||void 0===b?void 0:b.username)===v[L].blackPlayer.username?(S=v[L].whitePlayer.username,M="black"===v[L].winner?"Won":"white"==v[L].winner?"Lost":"Draw",T=v[L].startTime,N=Date.parse(v[L].endTime)-Date.parse(v[L].startTime),w=new Date(N).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"}),p=Math.round(v[L].blackPlayerEloBefore),y=Math.round(v[L].whitePlayerEloBefore)):(S=v[L].blackPlayer.username,M="white"===v[L].winner?"Won":"black"==v[L].winner?"Lost":"Draw",T=v[L].startTime,N=Date.parse(v[L].endTime)-Date.parse(v[L].startTime),w=new Date(N).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"}),p=Math.round(v[L].whitePlayerEloBefore),y=Math.round(v[L].blackPlayerEloBefore)),E.push({opponent:S,status:M,timestamp:T,duration:w,elo:p,opponentElo:y});return Object(a.jsxs)("div",{className:"stats",children:[Object(a.jsx)("img",{src:k,className:"img-fluid banner",alt:"Statistics"}),Object(a.jsxs)("div",{className:"total_games",children:[Object(a.jsx)(d.a,{icon:"chess-king",className:"chess-king fa-3x"}),"Games Played: ",E.length]}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"stats_grid ag-theme-alpine",style:{width:"100%",height:"100%"},children:Object(a.jsxs)(A.AgGridReact,{onGridReady:function(e){n(e.api),i(e.columnApi),e.api.sizeColumnsToFit()},domLayout:"autoHeight",defaultColDef:{resizable:!0},rowData:E,children:[Object(a.jsx)(A.AgGridColumn,{field:"opponent"}),Object(a.jsx)(A.AgGridColumn,{field:"status"}),Object(a.jsx)(A.AgGridColumn,{field:"timestamp"}),Object(a.jsx)(A.AgGridColumn,{field:"duration"}),Object(a.jsx)(A.AgGridColumn,{field:"elo"}),Object(a.jsx)(A.AgGridColumn,{field:"opponentElo"})]})})})}),Object(a.jsx)("div",{className:"row mt-4",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(j.b,{className:"btn btn-secondary",to:"./menu",children:"Main Menu"})})})]})]})}function S(){var e=function(e){var t=Object(c.useRef)(null),n=Object(c.useState)(null),a=Object(u.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)([]),l=Object(u.a)(i,2),o=l[0],m=l[1];Object(c.useEffect)((function(){var n=Object(h.io)().connect();n.on("user",(function(e){return r(JSON.parse(e))})),n.on("users",(function(e){return m(JSON.parse(e))})),n.on("input_error",(function(t){return e(new Error(t))})),t.current=n}),[e]);var d=Object(c.useCallback)(Object(O.throttle)((function(e){var n=new Set(e),a=o.filter((function(e){return n.has(e.email)}));if(a.length!==e.length)throw new Error("The email address you selected does not belong to a registered user.");if(a.some((function(e){return e.isAdmin})))throw new Error("You can't delete an admin user.");if(a.some((function(e){return"none"!==e.state})))throw new Error("You can't delete users who are currently queued or playing a game.");v(t.current,"delete_users",JSON.stringify(e))}),2e3),[o]);return{thisUser:s,allUsers:Object(c.useMemo)((function(){return o.filter((function(e){return"deleted"!==e.state}))}),[o]),deleteUsers:d}}(console.log),t=e.deleteUsers,n=e.allUsers,s=(e.thisUser,Object(c.useState)(Object)),r=Object(u.a)(s,2),i=r[0],l=r[1],o=Object(c.useState)(Object),m=Object(u.a)(o,2),d=(m[0],m[1]);return Object(a.jsxs)("div",{className:"admin",children:[Object(a.jsx)("div",{className:"table_heading",children:"Delete Accounts"}),Object(a.jsx)("div",{className:"ag-theme-alpine",children:Object(a.jsxs)(A.AgGridReact,{onGridReady:function(e){l(e.api),d(e.columnApi),e.api.sizeColumnsToFit()},domLayout:"autoHeight",defaultColDef:{resizable:!0},rowData:n,rowSelection:"multiple",children:[Object(a.jsx)(A.AgGridColumn,{field:"delete",maxWidth:150,checkboxSelection:!0}),Object(a.jsx)(A.AgGridColumn,{field:"username",maxWidth:300}),Object(a.jsx)(A.AgGridColumn,{field:"email"})]})}),Object(a.jsxs)("div",{className:"user_count",children:["Total Users: ",n.length]}),Object(a.jsx)("button",{className:"btn btn-secondary",onClick:function(e){var n=i.getSelectedNodes();if(0===n.length)alert("Please select a user to delete.");else{var a=n.map((function(e){return e.data})).map((function(e){return e.email}));try{t(a)}catch(e){alert(e.message)}}},children:"Delete"})]})}var M=n.p+"static/media/logo.d89d36b0.png";function T(){var e=g(console.log),t=(e.gameState,e.thisUser);e.makeMove,e.queueForGame;return Object(a.jsx)("nav",{className:"navbar navbar-inverse p-3",children:Object(a.jsxs)("div",{className:"container-fluid header-container",children:[Object(a.jsx)("div",{className:"navbar-header",children:Object(a.jsx)("a",{className:"navbar-brand site-logo",href:"#",children:Object(a.jsx)("img",{src:M,className:"img-responsive"})})}),Object(a.jsxs)("ul",{className:"nav navbar-nav navbar-right d-inline-block",children:[Object(a.jsxs)("li",{className:"navbar-text navbar-right d-inline-block",children:[null===t||void 0===t?void 0:t.username,"   |"]}),Object(a.jsx)("li",{className:"active d-inline-block",children:Object(a.jsx)("a",{className:"btn btn-outline-light btn-logout d-inline-block",href:"/users/logout",children:"Logout"})})]})]})})}var E=n(67),L=n.n(E);function C(e,t){var n;null===t?n=e:n=e-((new Date).getTime()-t.getTime());return n<0?"00:00":new Date(n).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"})}function R(e){var t=e.timeRemainingMs,n=e.timeTurnStarted,s=Object(c.useState)(C(t,n)),r=Object(u.a)(s,2),i=r[0],l=r[1],o=Object(c.useRef)({timeRemainingMs:t,timeTurnStarted:n});return Object(c.useEffect)((function(){var e=setInterval((function(){var e=o.current,t=e.timeRemainingMs,n=e.timeTurnStarted;l(C(t,n))}),1e3);return function(){return clearInterval(e)}}),[]),o.current={timeRemainingMs:t,timeTurnStarted:n},Object(a.jsxs)("div",{className:"game-time-container",children:[Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAQAAABKIxwrAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfkDAMWDibCYcZqAAADAElEQVQ4y23ST2gcZRjH8e++s++7O7M7O9ud2cmmSXZT3Jhu0hIWLTXbUBK1HopSCbZEavGmeCiKCko82ApClVSrSIOlt1700JMXLbWCmkCtB7GIBM3BmkTbNDHd/NnsbmbGwzbkD31u7/t8eN73gR9sqXcJcEZFQBAKUqMBp7a2EVuPGnNa4PhAgHDmtG3t9XqUkVC6M/F0xgB7OFwn0OqpYXCM1JGdhc95bDMuAclBORmuJF8wOZB2P4ledM6V0lHsE+FVOZkcbBgIA6wC9TavXftNM8TjvxzwU2FzJfLrK4kxXxd/el1etmEg1JhvE8qsvRiqVp5Z28eSmA4WxA6/hbj2k/FVEIlf8memN6aDhbH0V6wyrE0Yr0e+c+/kqjOR2Uz5YO3l8qn4Z8nyyua/t/CwMs/Ipfi5bFOEY+zXint6tWPEyDUZH8vlxJmCalvH/YB9XJbjH+6L5oBOspb7Xs4qAHn26+aILCefhycbvJk2N/Kzfu0hOweAi9Ohj6c7mgBoZZcduaZutLqZBlckh+SiNah4AgAD67C8Zx3WATiIIjEoF5NDEhB91Kj2iyl7vJVvgddYwevxEms9Fd4GvieLOy6mqv11+hA1enW/EJoozjoA/MCzWr3o4xWPaFcASNEzG5rwOvdE5xD/MiV907t92RsAoMJEgjwE+T8SVQAOcdnz7wTWglpE6MTWQqvhxFjoJgA+sWX1o5pXY/HlAICbXBGaJWq2l4Je3hH6F+p6zswCcIE0u+MdhW6zlU8ByJIz1fXol++LAXgTiJ+U83Yp8eCwYmKX5HzsJLwE4OB2ylv6hb3hnQ/A3RySsYvq75bdzetZDzBPhxesIdj+QhZwjquyeTrYyHwz7a7xtZpOHn1KK2zC7fRp1nNqJvbNLrdl4/otBE5evyrvGR9luosSRoGiTHcZZ+VC9Go6z/217+d9mLOkm/97o3YCT9xQv9fuajuCvfVHhFSXrJG5f17lg+1LNdEVtkvG+ehkpC4CVYtO6ued0oAsbjL/A+lW3QwbAMJcAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTEyLTAzVDIyOjE0OjM4KzAwOjAwwLCobwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0xMi0wM1QyMjoxNDozOCswMDowMLHtENMAAAAASUVORK5CYII=",className:"img-fluid",alt:"timer"}),Object(a.jsx)("div",{className:"game-time-string",children:i})]})}function U(e){var t=e.thisUser,n=e.makeMove,s=e.gameState,r=Object(c.useState)([]),i=Object(u.a)(r,2),l=i[0],o=i[1],m=(null===s||void 0===s?void 0:s.whitePlayer.username)===(null===t||void 0===t?void 0:t.username),d=m&&"white"===s.playerTurn||!m&&"black"===s.playerTurn,j=m?null===s||void 0===s?void 0:s.blackRemainingTimeMs:null===s||void 0===s?void 0:s.whiteRemainingTimeMs,b=m?null===s||void 0===s?void 0:s.whiteRemainingTimeMs:null===s||void 0===s?void 0:s.blackRemainingTimeMs,h=d?null:new Date(s.movingPlayerTurnStartTime),O=d?new Date(s.movingPlayerTurnStartTime):null,v=Object.fromEntries(l.map((function(e){return[e,{background:"radial-gradient(circle, #595447 36%, transparent 40%)",borderRadius:"50%"}]}))),x=m?s.blackPlayer.username:s.whitePlayer.username;return Object(a.jsxs)("div",{className:"container",id:"typehead",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("div",{className:"col game-user-name",children:x}),Object(a.jsx)(R,{timeRemainingMs:j,timeTurnStarted:h})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col p-0",children:Object(a.jsx)(L.a,{position:s.fenString,calcWidth:function(e){e.screenWidth,e.screenHeight;return document&&document.getElementById("typehead")?document.getElementById("typehead").clientWidth:500},orientation:(null===s||void 0===s?void 0:s.whitePlayer.username)===(null===t||void 0===t?void 0:t.username)?"white":"black",onDrop:function(e){var t=e.sourceSquare,a=e.targetSquare,c=e.piece;d&&n({from:t,to:a,promotion:"q",piece:c})},onMouseOverSquare:function(e){var t=s.possibleMoves.filter((function(t){return t.from===e}));o(t.map((function(e){return e.to})))},onMouseOutSquare:function(){o([])},squareStyles:v})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)(R,{timeRemainingMs:b,timeTurnStarted:O}),Object(a.jsx)("div",{className:"col game-user-name",children:t.username})]})})]})}var D=n.p+"static/media/winningBanner.11fd6f91.png",G=n.p+"static/media/celebrate.cbc02173.svg",B=n.p+"static/media/loseBanner.1f834ff7.png",P=n.p+"static/media/lose.384fb7ee.svg";function J(e,t,n,c,s,r,i,l,o){var m=Object(a.jsx)(p,{});return null!==o&&0===o.length||(m=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("p",{className:"lead",children:[null===e||void 0===e?void 0:e.username," Vs. ",t]}),Object(a.jsxs)("p",{className:"lead",children:[null===e||void 0===e?void 0:e.username," Time Remaining: ",n," Minutes"]}),Object(a.jsxs)("p",{className:"lead",children:[t," Time Remaining: ",c," Minutes"]}),Object(a.jsxs)("p",{className:"lead",children:["Total Wins: ",s]}),Object(a.jsxs)("p",{className:"lead",children:["Total Loss: ",r]}),Object(a.jsxs)("p",{className:"lead",children:["Total Draws: ",i]}),Object(a.jsxs)("p",{className:"lead",children:["ELO Score: ",l]})]})),m}function q(e){var t,n,s=e.thisUser,r=(e.makeMove,e.gameState),i="";r&&((null===s||void 0===s?void 0:s.username)===r.whitePlayer.username?(i=r.blackPlayer.username,t=new Date(r.blackRemainingTimeMs).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"}),n=new Date(r.whiteRemainingTimeMs).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"})):(i=r.whitePlayer.username,t=new Date(r.whiteRemainingTimeMs).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"}),n=new Date(r.blackRemainingTimeMs).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"})));var l=Object(c.useState)(null),d=Object(u.a)(l,2),b=d[0],h=d[1];Object(c.useEffect)((function(){(function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var O,v=0,x=0,g=0;if(b)for(var w=0;w<b.length;w++)(null===s||void 0===s?void 0:s.username)===b[w].blackPlayer.username?"black"===b[w].winner?v+=1:"white"===b[w].winner?x+=1:g+=1:"white"===b[w].winner?v+=1:"black"===b[w].winner?x+=1:g+=1;s&&(O=Math.round(s.elo));var p=J(s,i,n,t,v,x,g,O,b);return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("img",{src:B,className:"img-fluid",alt:"loseBanner"})})}),Object(a.jsx)("div",{className:"row",style:{width:"50%",display:"inline-block"},children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"border border-dark content-container bg-white text-dark",style:{position:"relative",left:0,top:0},children:[p,Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("img",{src:P,className:"loseLogo",alt:"loseLogo",style:{width:"20%",bottom:"0",position:"absolute",right:"0"}})})})]})})}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{className:"container",style:{width:"40%"},children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(j.b,{className:"btn btn-secondary ",to:"./menu",children:"Main Menu"})})})})]})}function z(e){var t,n,s=e.thisUser,r=(e.makeMove,e.gameState),i="";r&&((null===s||void 0===s?void 0:s.username)===r.whitePlayer.username?(i=r.blackPlayer.username,n=new Date(r.blackRemainingTimeMs).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"}),t=new Date(r.whiteRemainingTimeMs).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"})):(i=r.whitePlayer.username,n=new Date(r.whiteRemainingTimeMs).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"}),t=new Date(r.blackRemainingTimeMs).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"})));var l=Object(c.useState)(null),d=Object(u.a)(l,2),b=d[0],h=d[1];Object(c.useEffect)((function(){(function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(b);var O,v=0,x=0,g=0;if(b)for(var w=0;w<b.length;w++)(null===s||void 0===s?void 0:s.username)===b[w].blackPlayer.username?"black"===b[w].winner?v+=1:"white"===b[w].winner?x+=1:g+=1:"white"===b[w].winner?v+=1:"black"===b[w].winner?x+=1:g+=1;s&&(O=Math.round(s.elo));var p=J(s,i,t,n,v,x,g,O,b);return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("img",{src:D,className:"img-fluid",alt:"winningBanner"}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("img",{src:G,className:"img-fluid",alt:"winIcon"})}),Object(a.jsx)("div",{className:"row",style:{width:"50%"},children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"border border-dark content-container bg-white text-dark",children:p})})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("img",{src:G,className:"img-fluid",alt:"winIcon"})})]}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{className:"container",style:{width:"40%"},children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(j.b,{className:"btn btn-secondary ",to:"./menu",children:"Main Menu"})})})})]})}var F=n.p+"static/media/drawBanner.144ba6ac.png",W=n.p+"static/media/chess-game.c7632009.svg";function I(e){var t,n,s=e.thisUser,r=(e.makeMove,e.gameState),i=Object(c.useState)(null),l=Object(u.a)(i,2),d=l[0],b=l[1],h="";r&&((null===s||void 0===s?void 0:s.username)===r.whitePlayer.username?(h=r.blackPlayer.username,n=new Date(r.blackRemainingTimeMs).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"}),t=new Date(r.whiteRemainingTimeMs).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"})):(h=r.whitePlayer.username,n=new Date(r.whiteRemainingTimeMs).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"}),t=new Date(r.blackRemainingTimeMs).toLocaleTimeString("en-US",{minute:"numeric",second:"numeric"}))),Object(c.useEffect)((function(){(function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var O,v=0,x=0,g=0;if(d)for(var w=0;w<d.length;w++)(null===s||void 0===s?void 0:s.username)===d[w].blackPlayer.username?"black"===d[w].winner?v+=1:"white"===d[w].winner?x+=1:g+=1:"white"===d[w].winner?v+=1:"black"===d[w].winner?x+=1:g+=1;s&&(O=Math.round(s.elo));var p=J(s,h,t,n,v,x,g,O,d);return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("img",{src:F,className:"img-fluid banner",alt:"drawBanner"}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("img",{src:W,className:"img-fluid",alt:"drawIcon"})}),Object(a.jsx)("div",{className:"row",style:{width:"50%"},children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("div",{className:"border border-dark content-container bg-white text-dark",children:p})})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("img",{src:W,className:"img-fluid",alt:"drawIcon"})})]}),Object(a.jsx)("p",{}),Object(a.jsx)("div",{className:"container",style:{width:"40%"},children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(j.b,{className:"btn btn-secondary ",to:"./menu",children:"Main Menu"})})})})]})}var Z=n(23),H=n(44);function V(e){var t=e.thisUser,n=e.makeMove,c=e.gameState,s=(null===c||void 0===c?void 0:c.whitePlayer.username)===(null===t||void 0===t?void 0:t.username)?"white":"black";return c.winLoss&&"draw"==c.winLoss.gameOverState?Object(a.jsx)(I,{thisUser:t,makeMove:n,gameState:c}):c.winLoss&&c.winLoss.winner===s?Object(a.jsx)(z,{thisUser:t,makeMove:n,gameState:c}):c.winLoss&&c.winLoss.winner!==s?Object(a.jsx)(q,{thisUser:t,makeMove:n,gameState:c}):Object(a.jsx)(U,{thisUser:t,makeMove:n,gameState:c})}function X(){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"container queue",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"jumbotron brown-border content-container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("p",{className:"lead",children:["Looking for an available opponent",Object(a.jsx)("br",{})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(d.a,{icon:"spinner",className:"fa-pulse fa-3x",style:{marginLeft:15}})})})]})})})})})}function Y(){return Object(a.jsx)(K,{time:9e4})}function _(){return Object(a.jsx)(K,{time:6e5})}function Q(){return Object(a.jsx)(K,{time:18e5})}function K(e){var t=e.time,n=g(console.log),s=n.thisUser,r=n.queueForGame,i=n.makeMove,l=n.gameState,o=null!==s;return Object(c.useEffect)((function(){o&&r(t)}),[o,t]),"queued"===(null===s||void 0===s?void 0:s.state)||null===l||null===s?Object(a.jsx)(X,{}):Object(a.jsx)(V,{thisUser:s,makeMove:i,gameState:l})}var $=n(4);Z.b.add(H.a,H.b);var ee=function(){return Object(a.jsx)(j.a,{basename:"/app",children:Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("div",{children:Object(a.jsx)($.c,{children:Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(T,{}),Object(a.jsxs)("div",{className:"App d-flex justify-content-center h-100 align-middle",children:[Object(a.jsx)($.a,{path:"/menu",component:N,exact:!0}),Object(a.jsx)($.a,{path:"/blitz",component:Y,exact:!0}),Object(a.jsx)($.a,{path:"/speed",component:_,exact:!0}),Object(a.jsx)($.a,{path:"/regular",component:Q,exact:!0}),Object(a.jsx)($.a,{path:"/playerstats",component:y,exact:!0}),Object(a.jsx)($.a,{path:"/admin",component:S,exact:!0}),Object(a.jsx)($.a,{path:"/Game",component:U,exact:!0}),Object(a.jsx)($.a,{path:"/GameWon",component:z,exact:!0}),Object(a.jsx)($.a,{path:"/GameLost",component:q,exact:!0}),Object(a.jsx)($.a,{path:"/GameDraw",component:I,exact:!0})]})]})})})})})};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(ee,{})}),document.getElementById("root"))},31:function(e,t,n){},73:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.8c5c34c1.chunk.js.map