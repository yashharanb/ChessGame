{"version":3,"sources":["ServerHooks.tsx","Misc.tsx","RegularUserCode/PlayerMainMenu.tsx","images/playerStats.png","RegularUserCode/PlayerStatistics.tsx","Admin.tsx","images/logo.png","RegularUserCode/header.tsx","RegularUserCode/Game.tsx","images/timer.png","images/winningBanner.png","images/celebrate.svg","images/loseBanner.png","images/lose.svg","RegularUserCode/GameLost.tsx","RegularUserCode/GameWon.tsx","images/drawBanner.png","images/chess-game.svg","RegularUserCode/GameDraw.tsx","RegularUserCode/GameStateRoute.tsx","RegularUserCode/Queue/Queue.tsx","RegularUserCode/Queue/QueueOrGame.tsx","App.tsx","index.tsx"],"names":["sendIoMessage","conn","eventName","msg","Error","emit","isPlayersTurn","game","user","isPlayerWhite","email","whitePlayer","isMovingPlayerWhite","playerTurn","useChessPlayerState","onError","useState","thisUser","setThisUser","gameState","setGameState","connectionRef","useRef","useEffect","connection","io","connect","on","JSON","parse","error","current","queueForGame","useCallback","timeLimit","toString","makeMove","move","state","piece","toUpperCase","endsWith","promotion","to","stringify","possibleMoves","getPlayerStats","a","fetch","prevsiousGamesRes","ok","text","LoadingScreen","className","icon","style","marginLeft","PlayerMainMenu","console","log","stats","setStats","playerStats","func","elo","totalWinCounter","totalLossCounter","totalDrawCounter","numberOfGamesPlayed","length","i","username","blackPlayer","winner","Math","round","content","PlayerStatistics","Object","setGridApi","setGridColumnApi","duration","durationTimeInSeconds","opponentElo","opponent","status","timestamp","array","startTime","Date","endTime","toLocaleTimeString","minute","second","blackPlayerEloBefore","whitePlayerEloBefore","push","src","banner","alt","width","height","onGridReady","params","api","columnApi","sizeColumnsToFit","domLayout","defaultColDef","resizable","rowData","field","Admin","allUsers","setAllUsers","deleteUsers","throttle","emails","deletedEmailsSet","Set","allUsersToDelete","filter","has","some","userToDelete","isAdmin","useMemo","useAdminState","gridApi","rowSelection","maxWidth","checkboxSelection","onClick","e","selectedNodes","getSelectedNodes","alert","selectedDataEmails","map","node","data","message","Header","href","logo","getDisplayedTimeFromRemainingTime","timeRemainingMs","timeTurnStarted","actualTimeRemaining","getTime","ChessTimer","displayedTime","setDisplayedTime","propsRef","interval","setInterval","clearInterval","Game","highlightedSquares","setHighlightedSquares","isUserWhite","player1Time","blackRemainingTimeMs","whiteRemainingTimeMs","player2Time","player1TurnStart","movingPlayerTurnStartTime","player2TurnStart","squareStyles","fromEntries","square","background","borderRadius","opponentName","id","position","fenString","calcWidth","screenWidth","screenHeight","document","getElementById","clientWidth","orientation","onDrop","sourceSquare","targetSquare","from","onMouseOverSquare","validMoves","onMouseOutSquare","getWinLossContent","userTime","opponentTime","GameLost","loseBanner","display","left","top","lose","bottom","right","GameWon","winningBanner","celebration","GameDraw","drawBanner","chessGame","GameStateRoute","userColor","winLoss","gameOverState","Queue","BlitzGame","QueueOrGame","time","SpeedGame","RegularGame","userExists","library","add","faChessKing","faSpinner","App","basename","process","path","component","exact","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.8c5c34c1.chunk.js","sourcesContent":["import {useCallback, useEffect, useMemo, useRef, useState} from \"react\";\r\nimport {io, Socket} from \"socket.io-client\";\r\nimport {throttle} from \"lodash\"\r\n/***\r\n * A single user in the application. Both admins and non-admins are represented by this type.\r\n */\r\nexport interface User{\r\n    /**\r\n     * What state that particular user is in.\r\n     * none means that the user is not in a game, nor is in queue for a game.\r\n     * queued means that the user is queued for a game, waiting to be matched up with an opponent.\r\n     * game means the user is currently in a game.\r\n     * deleted means the user has been deleted by an administrator.\r\n     */\r\n    state:\"none\"|\"queued\"|\"game\"|\"deleted\";\r\n    username:string;\r\n    email:string;\r\n    isAdmin:boolean;\r\n    /**\r\n     * A number representing the ELO rating of the player. this is a chess metric for the skill of a player\r\n     * @see {@link https://en.wikipedia.org/wiki/Elo_rating_system }\r\n     */\r\n    elo:number;\r\n}\r\n\r\nexport interface AdminHookReturn{\r\n    /**\r\n     * The state of the admin user itself.\r\n     * Ie admins username, state,etc.\r\n     */\r\n    thisUser:User|null;\r\n\r\n    /**\r\n     * every User, not including the deleted users.\r\n     */\r\n    allUsers:User[];\r\n\r\n    /**\r\n     * A function to call to delete multiple users.\r\n     * @param emails - The email of every user you want to delete.\r\n     */\r\n    deleteUsers:(emails:string[])=>void;\r\n}\r\n\r\n/**\r\n * A function which is called when there is an error. Displays an error message to user.\r\n */\r\nexport type ErrorFunc=(error:Error)=>void;\r\n\r\n\r\nfunction sendIoMessage(conn:Socket|null,eventName:string,msg:string){\r\n    if(conn===null){\r\n        throw new Error(\"error, no connection to server\");\r\n    }\r\n    else{\r\n        conn.emit(eventName,msg);\r\n    }\r\n}\r\n\r\n/**\r\n * A hook for the admin to connect to socket.io. I would expect this to only be used by the admin page.\r\n *\r\n * @param onError - a function to be called whenever there is an error on the server.\r\n */\r\nexport function useAdminState(onError:ErrorFunc):AdminHookReturn{\r\n    const connectionRef=useRef<Socket|null>(null);\r\n\r\n    const [thisUser, setThisUser]=useState<User|null>(null);\r\n    const [allUsers, setAllUsers]=useState<User[]>([]);\r\n    useEffect(()=>{\r\n        const connection=io().connect();\r\n        connection.on(\"user\",(msg:string)=>setThisUser(JSON.parse(msg)));\r\n        connection.on(\"users\",(msg:string)=>setAllUsers(JSON.parse(msg)));\r\n        connection.on(\"input_error\",(error:string)=>onError(new Error(error)))\r\n        connectionRef.current=connection;\r\n    },[onError])\r\n\r\n    const deleteUsers=useCallback(throttle((emails:string[])=> {\r\n        const deletedEmailsSet=new Set(emails);\r\n        const allUsersToDelete=allUsers.filter(user=>deletedEmailsSet.has(user.email));\r\n\r\n        if(allUsersToDelete.length!==emails.length){\r\n            throw new Error(\"The email address you selected does not belong to a registered user.\");\r\n        }\r\n        else if(allUsersToDelete.some(userToDelete=>userToDelete.isAdmin)){\r\n            throw new Error(\"You can't delete an admin user.\");\r\n        }\r\n        else if (allUsersToDelete.some(userToDelete=>userToDelete.state!==\"none\")){\r\n            throw new Error(\"You can't delete users who are currently queued or playing a game.\");\r\n        }\r\n        else{\r\n            sendIoMessage(connectionRef.current,\"delete_users\",JSON.stringify(emails))\r\n        }\r\n    },2000),[allUsers]);\r\n\r\n    const allUsersWithoutDeleted=useMemo(()=>allUsers.filter(user=>user.state!==\"deleted\"), [allUsers])\r\n\r\n    return {thisUser,allUsers:allUsersWithoutDeleted,deleteUsers}\r\n}\r\nexport interface GameWinLossState{\r\n    gameOverState:\"winLoss\";\r\n    reason:\"checkmate\"|\"timeout\"|\"forfeit\";\r\n    winner:\"white\"|\"black\";\r\n}\r\n\r\nexport interface GameDraw{\r\n    gameOverState:\"draw\";\r\n    reason:\"50-move\"|\"insufficient-material\"|\"stalemate\"|\"threefold-repetition\";\r\n    winner:null;\r\n}\r\n\r\nexport type ChessCoordinate=`${'a'|'b'|'c'|'d'|'e'|'f'|'g'|'h'}${'1'|'2'|'3'|'4'|'5'|'6'|'7'|'8'}`;\r\n/**\r\n * String reperesenting a chess peice.\r\n *\r\n * p=pawn\r\n * q=queen\r\n * r=rook\r\n * n=knight\r\n * k=knight again for some reason. Its usually n but theres the odd time where it uses k for some reason.\r\n * b=bishop\r\n */\r\nexport type ChessPiece='p'|'q'|'r'|'n'|'k'|'b';\r\n\r\n/**\r\n * The possible moves that the user could do on the board.\r\n *\r\n * This is gotten from chess.js.\r\n *\r\n *\r\n * @see {@link https://github.com/jhlywa/chess.js} for more details on the verbose moves returned. They are gotten from the history and the move() methods.\r\n */\r\nexport interface ChessMove{\r\n    \"color\":\"w\"|\"b\",\r\n    \"from\":ChessCoordinate,\r\n    \"to\":ChessCoordinate,\r\n    /**\r\n     * The flags field in verbose mode may contain one or more of the following values:\r\n     *\r\n     * 'n' - a non-capture\r\n     * 'b' - a pawn push of two squares\r\n     * 'e' - an en passant capture\r\n     * 'c' - a standard capture\r\n     * 'p' - a promotion\r\n     * 'k' - kingside castling\r\n     * 'q' - queenside castling\r\n     * 'pc' - A pawn captured a piece on the 8th rank and promoted.\r\n     */\r\n    \"flags\":'n'|'b'|'e'|'c'|'p'|'k'|'q'|'pc'|'cp',\r\n    \"captured\"?:ChessPiece,\r\n    \"promotion\"?:'q'|'r'|'n'|'b',\r\n    \"piece\":ChessPiece,\r\n    /** move in Standard Algebraic Notation */\r\n    \"san\":string\r\n}\r\n\r\nexport interface GameState{\r\n    whiteRemainingTimeMs:number;\r\n    blackRemainingTimeMs:number;\r\n    playerTurn:\"white\"|\"black\";\r\n    whitePlayer:User;\r\n    blackPlayer:User;\r\n    possibleMoves:ChessMove[];\r\n    fenString:string;\r\n    inCheck:boolean;\r\n    winLoss:GameWinLossState|GameDraw|null;\r\n    history:ChessMove[];\r\n    /**\r\n     * The time that the player who's turn it is to move time started.\r\n     * This is so that the time on the server and client are synchronized properly\r\n     *\r\n     * The way you should use this, is for the timer.\r\n     * The timer for the moving player should always display:\r\n     *\r\n     * Math.round((playerRemainingTimeMs - (new Date(currentTime) - new Date(movingPlayerStartTime)))*1000)\r\n     *\r\n     */\r\n    movingPlayerTurnStartTime:DateTimeStr;\r\n}\r\n\r\n\r\n/**\r\n * Any valid chess move. Simply get the value from chess.jsx for the attributes to, from and piece.\r\n *\r\n * You should be able to get every one of these values directly from chess.jsx, except promotion. I think we need to do some manual code for promoting pawns.\r\n *\r\n * Note that you need to handle upgrading the pawn yourself, before you call the makeMove function.\r\n */\r\nexport interface InputChessMove {\r\n    /** square move is from. Gotten from chess.jsx */\r\n    from: string;\r\n    /** square move is to. Gotten from chess.jsx */\r\n    to: string;\r\n    /** If the move is a pawn moving into the final square, what peice the pawn will be promoted to*/\r\n    promotion?: 'q'|'r'|'n'|'b';\r\n    /** piece the move is moving. Gotten from chess.jsx */\r\n    piece: string;\r\n}\r\n\r\ninterface ChessPlayerHookReturn{\r\n    /**\r\n     * The state of the chess player.\r\n     * Ie users username, state,etc.\r\n     *\r\n     * Is null when initially loading in value.\r\n     */\r\n    thisUser:User|null;\r\n    /** The state of the game the chess player is currently playing. Is null when not playing a game, or when they have finished a game, and they have not re-queued for another.*/\r\n    gameState:GameState|null;\r\n    /**\r\n     * A function to call when the user wants to queue for a game.\r\n     * @param timeLimitMs - the amount of time the played game will have.\r\n     */\r\n    queueForGame:(timeLimitMs:number)=>void;\r\n\r\n    /**\r\n     * A function to call when the user makes a move in the game they are in.\r\n     * Will throw an error if it is called when not in a game\r\n     *\r\n     *\r\n     * Note, in the case you are promoting a pawn, you need to state what you are promoting it to before you call this function.\r\n     *\r\n     */\r\n    makeMove:(move:InputChessMove)=>void\r\n\r\n}\r\n\r\nfunction isPlayersTurn(game:GameState,user:User):boolean{\r\n    const isPlayerWhite=user.email === game.whitePlayer.email;\r\n    const isMovingPlayerWhite=game.playerTurn===\"white\";\r\n    return (!isPlayerWhite&&!isMovingPlayerWhite )||(isPlayerWhite&&isMovingPlayerWhite)\r\n}\r\n\r\n/**\r\n * A hook for a regular user to connect to socket.io. It manages all socket.io state for you.\r\n *\r\n * @param onError - a function to be called whenever there is an error on the server.\r\n */\r\nexport function useChessPlayerState(onError:ErrorFunc):ChessPlayerHookReturn{\r\n    const [thisUser,setThisUser]=useState<User|null>(null)\r\n    const [gameState,setGameState]=useState<GameState|null>(null);\r\n    // const connectionRef=useRef<any>(null);\r\n    const connectionRef=useRef<Socket|null>(null);\r\n\r\n    useEffect(()=>{\r\n        const connection=io().connect();\r\n        connection.on(\"user\",(msg:string)=>setThisUser(JSON.parse(msg)));\r\n        connection.on(\"game\",(msg:string)=>setGameState(JSON.parse(msg)));\r\n        connection.on(\"input_error\",(error:string)=>onError(new Error(error)))\r\n        connectionRef.current=connection;\r\n    },[onError])\r\n\r\n\r\n\r\n    const queueForGame=useCallback((timeLimit:number)=>{\r\n        if(thisUser!==null){\r\n            setGameState(null);\r\n            sendIoMessage(connectionRef.current,\"play_game\",timeLimit.toString());\r\n        }\r\n    },[thisUser]);\r\n\r\n    const makeMove=useCallback((move:InputChessMove)=>{\r\n            if(gameState===null){\r\n                throw new Error(\"error, cannot make move when no game.\")\r\n            }\r\n            else if(thisUser === null){\r\n                throw new Error(\"invalid user\");\r\n            }\r\n            else if (thisUser.state!==\"game\"){\r\n                throw new Error(\"must be playing game\");\r\n            }\r\n            else if(move.piece.toUpperCase().endsWith(\"P\")&&(typeof move.promotion===\"undefined\")&&(move.to.endsWith(\"8\")||move.to.endsWith(\"1\"))){\r\n                throw new Error(\"error, the developer forgot to promote a pawn, before calling makeMove\");\r\n            }\r\n            else if(!isPlayersTurn(gameState,thisUser)){\r\n                throw new Error(\"not your turn!\");\r\n            }\r\n            else{\r\n                sendIoMessage(connectionRef.current,\"make_move\",JSON.stringify(move));\r\n            }\r\n    },[gameState, thisUser]);\r\n\r\n    if(thisUser!==null&&gameState!==null&&thisUser.state===\"game\"&&!isPlayersTurn(gameState,thisUser)){\r\n        const gameStateWithNoMoves:GameState={...gameState,possibleMoves:[]};\r\n        return {gameState:gameStateWithNoMoves,thisUser,makeMove,queueForGame};\r\n    }\r\n    return {gameState,thisUser,makeMove,queueForGame};\r\n}\r\n\r\n/**\r\n * A string, which can be turned into a date easily by passing it to the new Date() constructor.\r\n *\r\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toJSON}\r\n */\r\nexport type DateTimeStr=string\r\n\r\nexport interface HistoricalGame{\r\n    whitePlayer: User,\r\n    blackPlayer :User,\r\n    winner :\"white\"|\"black\"|\"draw\",\r\n    startTime:DateTimeStr,\r\n    endTime:DateTimeStr,\r\n    timeLimit:number,\r\n    pgn:string,\r\n    whitePlayerEloBefore:number,\r\n    blackPlayerEloBefore:number,\r\n}\r\n\r\nexport async function getPlayerStats():Promise<HistoricalGame[]>{\r\n    const prevsiousGamesRes=await fetch(\"/previousGames\");\r\n    if(prevsiousGamesRes.ok){\r\n        try{\r\n            const text=await prevsiousGamesRes.text()\r\n            return JSON.parse(text);\r\n        }\r\n        catch (e){\r\n            //since it redirects to login page when not logged in, when it fails json.parse its not logged in.\r\n            throw new Error(\"not logged in\");\r\n        }\r\n    }\r\n    else{\r\n        throw new Error(\"Error, cannot get player statistics\");\r\n    }\r\n}\r\n","import {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\n\r\nexport function LoadingScreen(){\r\n    return <div className=\"overall-loading-screen\">\r\n                <FontAwesomeIcon icon=\"spinner\" className=\"fa-pulse fa-3x\" style={{ marginLeft: 15 }} />\r\n    </div>\r\n\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n    Link\r\n} from \"react-router-dom\";\r\nimport { useChessPlayerState,HistoricalGame , getPlayerStats} from \"../ServerHooks\";\r\nimport {LoadingScreen} from \"../Misc\";\r\n\r\n\r\n// This page displays the player's general game stats, and allows users to play a new game or view detailed stats.\r\n// TODO: replace the 4s with actual data from the db\r\nexport function PlayerMainMenu() {\r\n// Use a use effect and get request\r\n\r\nconst {gameState,thisUser,makeMove,queueForGame} = useChessPlayerState(console.log);\r\nconst [stats,setStats]=useState<null|HistoricalGame[]>(null);\r\n// Display the user login screen\r\nuseEffect(()=>{\r\n  const func=async()=>{\r\n    const playerStats=await getPlayerStats();\r\n    setStats(playerStats);\r\n  }\r\n  func()\r\n},[])\r\n\r\nconsole.log(stats);\r\n\r\nlet totalWinCounter = 0;\r\nlet totalLossCounter = 0;\r\nlet totalDrawCounter = 0;\r\nlet numberOfGamesPlayed = stats?.length;\r\nif(stats){\r\n  for( let i = 0; i<stats.length; i++){\r\n  if(thisUser?.username === stats[i].blackPlayer.username){\r\n    if(stats[i].winner === \"black\"){\r\n        totalWinCounter = totalWinCounter+1;\r\n    }\r\n    else if(stats[i].winner === \"white\"){\r\n      totalLossCounter = totalLossCounter+1;\r\n    }\r\n    else{\r\n      totalDrawCounter = totalDrawCounter+1;\r\n    }\r\n  }else{\r\n    if(stats[i].winner === \"white\"){\r\n        totalWinCounter = totalWinCounter+1;\r\n    }\r\n    else if(stats[i].winner === \"black\"){\r\n      totalLossCounter = totalLossCounter+1;\r\n    }\r\n    else{\r\n      totalDrawCounter = totalDrawCounter+1;\r\n    }\r\n  }\r\n}\r\n}\r\n\r\nlet elo;\r\nif(thisUser){\r\n  elo = Math.round(thisUser.elo);\r\n}\r\nlet content=<LoadingScreen/>\r\n\r\nif(thisUser!==null&&stats!==null){\r\n    content=<>\r\n        <p className=\"lead\">\r\n            <FontAwesomeIcon icon=\"chess-king\" className=\"chess-king fa-3x\"  style={{marginLeft: 15}}/>\r\n            Games played: {numberOfGamesPlayed}\r\n        </p>\r\n        <p className=\"lead\">\r\n            <FontAwesomeIcon icon=\"chess-king\" className=\"chess-king fa-3x\"/>\r\n            Games won: {totalWinCounter}\r\n        </p>\r\n        <p className=\"lead\">\r\n            <FontAwesomeIcon icon=\"chess-king\" className=\"chess-king fa-3x\"/>\r\n            Games lost: {totalLossCounter}\r\n        </p>\r\n        <p className=\"lead\">\r\n            <FontAwesomeIcon icon=\"chess-king\" className=\"chess-king fa-3x\"/>\r\n            Games tied: {totalDrawCounter}\r\n        </p>\r\n        <p className=\"lead\">\r\n            <FontAwesomeIcon icon=\"chess-king\" className=\"chess-king fa-3x\"/>\r\n            ELO Score: {elo}\r\n        </p>\r\n    </>\r\n}\r\n\r\n\r\n    return (\r\n        <div className=\"container player_menu\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"jumbotron brown-border content-container\">\r\n                        {content}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col mb-2\">\r\n                    <Link className=\"btn btn-secondary\" to=\"../regular\">Regular Game</Link>\r\n                    </div>\r\n                <div className=\"col mb-2\">\r\n                    <Link className=\"btn btn-secondary\" to=\"../speed\">Speed Game</Link>\r\n                </div>\r\n                <div className=\"col mb-2\">\r\n                    <Link className=\"btn btn-secondary\" to=\"../blitz\">Blitz Game</Link>\r\n                </div>\r\n                <div className=\"col mb-2\">\r\n                    <Link className=\"btn btn-secondary\" to=\"../playerstats\">Player Stats</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/playerStats.92a31c20.png\";","import React, {useEffect, useState} from 'react';\r\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\r\nimport 'ag-grid-community/dist/styles/ag-grid.css';\r\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport banner from '../images/playerStats.png';\r\nimport { useChessPlayerState,HistoricalGame, getPlayerStats} from \"../ServerHooks\";\r\n\r\nexport function PlayerStatistics() {\r\n    const [gridApi, setGridApi] = useState(Object);\r\n    const [gridColumnApi, setGridColumnApi] = useState(Object);\r\n\r\n    function onGridReady(params: { api: any; columnApi: any; }) {\r\n        setGridApi(params.api);\r\n        setGridColumnApi(params.columnApi);\r\n        params.api.sizeColumnsToFit();\r\n    }\r\n\r\n    const {gameState,thisUser,makeMove,queueForGame} = useChessPlayerState(console.log);\r\n    const [stats,setStats]=useState<null|HistoricalGame[]>(null);\r\n    // Display the user login screen\r\n    useEffect(()=>{\r\n      const func=async()=>{\r\n        const playerStats=await getPlayerStats();\r\n        setStats(playerStats);\r\n      }\r\n      func()\r\n    },[])\r\n\r\n    let opponent = \"\";\r\n    let status = \"\";\r\n    let timestamp = \"\";\r\n    let duration;\r\n    let elo;\r\n    let durationTimeInSeconds;\r\n    let array:Array<any>=[];\r\n    let opponentElo;\r\n    if(stats){\r\n      for( let i = 0; i<stats.length; i++){\r\n        if(thisUser?.username === stats[i].blackPlayer.username){\r\n          opponent = stats[i].whitePlayer.username;\r\n          if(stats[i].winner === \"black\"){\r\n            status = \"Won\";\r\n          }\r\n          else if(stats[i].winner == \"white\"){\r\n            status = \"Lost\";\r\n          }\r\n          else{\r\n            status = \"Draw\";\r\n          }\r\n          timestamp = stats[i].startTime;\r\n          durationTimeInSeconds = Date.parse(stats[i].endTime) - Date.parse(stats[i].startTime);\r\n          duration = new Date(durationTimeInSeconds).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n          elo = Math.round(stats[i].blackPlayerEloBefore);\r\n          opponentElo = Math.round(stats[i].whitePlayerEloBefore);\r\n        }else{\r\n          opponent = stats[i].blackPlayer.username;\r\n          if(stats[i].winner === \"white\"){\r\n            status = \"Won\";\r\n          }\r\n          else if(stats[i].winner == \"black\"){\r\n            status = \"Lost\";\r\n          }\r\n          else{\r\n            status = \"Draw\";\r\n          }\r\n          timestamp = stats[i].startTime;\r\n          // @ts-ignore\r\n          durationTimeInSeconds = Date.parse(stats[i].endTime) - Date.parse(stats[i].startTime);\r\n          duration = new Date(durationTimeInSeconds).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n          elo = Math.round(stats[i].whitePlayerEloBefore);\r\n          opponentElo = Math.round(stats[i].blackPlayerEloBefore);\r\n        }\r\n        array.push({opponent: opponent, status: status, timestamp: timestamp, duration: duration, elo : elo, opponentElo: opponentElo});\r\n      }\r\n    }\r\n\r\n    return (\r\n        <div className=\"stats\">\r\n            <img src={banner} className=\"img-fluid banner\" alt=\"Statistics\" />\r\n            <div className=\"total_games\"><FontAwesomeIcon icon=\"chess-king\" className=\"chess-king fa-3x\" />Games Played: {array.length}</div>\r\n\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <div className=\"stats_grid ag-theme-alpine\" style={{ width: '100%', height: '100%' }}>\r\n                            <AgGridReact onGridReady={onGridReady} domLayout={'autoHeight'} defaultColDef={{ resizable: true }} rowData={array}>\r\n                                <AgGridColumn field=\"opponent\"></AgGridColumn>\r\n                                <AgGridColumn field=\"status\"></AgGridColumn>\r\n                                <AgGridColumn field=\"timestamp\"></AgGridColumn>\r\n                                <AgGridColumn field=\"duration\"></AgGridColumn>\r\n                                <AgGridColumn field=\"elo\"></AgGridColumn>\r\n                                <AgGridColumn field=\"opponentElo\"></AgGridColumn>\r\n                            </AgGridReact>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"row mt-4\">\r\n                    <div className=\"col\">\r\n                        <Link className=\"btn btn-secondary\" to=\"./menu\">Main Menu</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport './App.css';\r\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\r\nimport 'ag-grid-community/dist/styles/ag-grid.css';\r\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\r\nimport { useAdminState } from \"./ServerHooks\";\r\n\r\nexport function Admin() {\r\n    const {deleteUsers, allUsers, thisUser} = useAdminState(console.log);\r\n\r\n    const [gridApi, setGridApi] = useState(Object);\r\n    const [gridColumnApi, setGridColumnApi] = useState(Object);\r\n\r\n    function onGridReady(params: { api: any; columnApi: any; }) {\r\n        setGridApi(params.api);\r\n        setGridColumnApi(params.columnApi);\r\n        params.api.sizeColumnsToFit();\r\n    }\r\n\r\n    // When Delete button is clicked\r\n    const onButtonClick = (e: any) => {\r\n        const selectedNodes = gridApi.getSelectedNodes();\r\n        if (selectedNodes.length === 0) {\r\n            alert(\"Please select a user to delete.\");\r\n        }\r\n        else {\r\n            const selectedData = selectedNodes.map((node: { data: any; }) => node.data);\r\n            const selectedDataEmails = selectedData.map((node: { email: string; }) => node.email);\r\n            try {\r\n                deleteUsers(selectedDataEmails);\r\n            } catch(e){\r\n                alert(e.message);\r\n            }\r\n        }\r\n    }   \r\n\r\n    return (\r\n        <div className=\"admin\">\r\n            <div className=\"table_heading\">Delete Accounts</div>\r\n\r\n            <div className=\"ag-theme-alpine\" >\r\n                <AgGridReact onGridReady={onGridReady} domLayout={'autoHeight'} defaultColDef={{ resizable: true }} rowData={allUsers} rowSelection=\"multiple\">\r\n                    <AgGridColumn field=\"delete\" maxWidth={150} checkboxSelection={true}></AgGridColumn>\r\n                    <AgGridColumn field=\"username\" maxWidth={300}></AgGridColumn>\r\n                    <AgGridColumn field=\"email\"></AgGridColumn>\r\n                </AgGridReact>\r\n            </div>\r\n\r\n            <div className=\"user_count\">Total Users: {allUsers.length}</div>\r\n            <button className=\"btn btn-secondary\" onClick={onButtonClick}>Delete</button>\r\n\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/logo.d89d36b0.png\";","import 'bootswatch/dist/slate/bootstrap.min.css';\r\nimport React from 'react';\r\nimport logo from '../images/logo.png';\r\nimport { Router, Route, Link } from 'react-router-dom';\r\nimport { useChessPlayerState} from \"../ServerHooks\"\r\n\r\nexport function Header() {\r\n  const {gameState,thisUser,makeMove,queueForGame} = useChessPlayerState(console.log);\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-inverse p-3\">\r\n      <div className=\"container-fluid header-container\">\r\n        <div className=\"navbar-header\">\r\n          <a className=\"navbar-brand site-logo\" href=\"#\">\r\n            <img src={logo} className=\"img-responsive\"></img>\r\n          </a>\r\n        </div>\r\n\r\n        <ul className=\"nav navbar-nav navbar-right d-inline-block\">\r\n          <li className=\"navbar-text navbar-right d-inline-block\">\r\n            {thisUser?.username}   |\r\n          </li>\r\n\r\n          <li className=\"active d-inline-block\">\r\n            <a className=\"btn btn-outline-light btn-logout d-inline-block\" href=\"/users/logout\">Logout</a>\r\n          </li>\r\n\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n\r\n  );\r\n}\r\n","import React, {useEffect, useRef, useState} from 'react';\r\nimport Chessboard from 'chessboardjsx';\r\nimport timer from '../images/timer.png';\r\nimport { InputChessMove } from \"../ServerHooks\";\r\nimport { GameStateRouteProps } from './GameStateRoute';\r\n\r\n\r\nfunction getDisplayedTimeFromRemainingTime(timeRemainingMs:number,timeTurnStarted:Date|null):string{\r\n    //if not players turn, simply return rounded TimeRemainingMs\r\n    let actualTimeRemaining;\r\n    if(timeTurnStarted===null){\r\n        actualTimeRemaining=timeRemainingMs\r\n    }\r\n    else{\r\n        const timeElapsedSinceTurnStarted:number=(new Date()).getTime() - timeTurnStarted.getTime();\r\n        actualTimeRemaining=timeRemainingMs-timeElapsedSinceTurnStarted;\r\n    }\r\n\r\n    if(actualTimeRemaining<0){\r\n        return \"00:00\";\r\n    }\r\n    else{\r\n        return new Date(actualTimeRemaining).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @param timeRemainingMs\r\n * @param timeLastMove\r\n * @constructor\r\n */\r\nfunction ChessTimer({timeRemainingMs,timeTurnStarted}:{timeRemainingMs:number,timeTurnStarted:Date|null}){\r\n    const [displayedTime,setDisplayedTime]=useState(getDisplayedTimeFromRemainingTime(timeRemainingMs,timeTurnStarted));\r\n    const propsRef=useRef({timeRemainingMs,timeTurnStarted});\r\n\r\n    useEffect(()=>{\r\n        const interval=setInterval(()=>{\r\n            const {timeRemainingMs,timeTurnStarted}=propsRef.current;\r\n            setDisplayedTime(getDisplayedTimeFromRemainingTime(timeRemainingMs,timeTurnStarted))\r\n        },1000);\r\n        return ()=>clearInterval(interval);\r\n    },[]);\r\n    propsRef.current={timeRemainingMs,timeTurnStarted}\r\n    return <div className=\"game-time-container\">\r\n        <img src={timer} className=\"img-fluid\" alt=\"timer\" />\r\n        <div className=\"game-time-string\">\r\n            {displayedTime}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport function Game({thisUser, makeMove, gameState}:GameStateRouteProps) {\r\n    const [highlightedSquares, setHighlightedSquares]=useState<string[]>([]);\r\n\r\n    let calcWidth = ({ screenWidth, screenHeight }: any) => {\r\n        if (document && document.getElementById('typehead')) {\r\n            // @ts-ignore\r\n            return document.getElementById('typehead').clientWidth;\r\n        } else {\r\n            return 500;\r\n        }\r\n    }\r\n    const isUserWhite=gameState?.whitePlayer.username===thisUser?.username;\r\n    const isPlayersTurn=(isUserWhite&&gameState.playerTurn===\"white\")||((!isUserWhite)&&gameState.playerTurn===\"black\");\r\n\r\n    // When a chess piece is moved to a new square\r\n    let onDrop = ({ sourceSquare, targetSquare, piece }:any)=> {\r\n        let newMove:InputChessMove = {\r\n            from: sourceSquare,\r\n            to: targetSquare,\r\n            promotion: \"q\",\r\n            piece: piece\r\n        }\r\n        if(isPlayersTurn){\r\n            makeMove(newMove);\r\n        }\r\n    }\r\n\r\n    let onMouseOverSquare = (square: string) => {\r\n        const validMoves = gameState.possibleMoves.filter(move => move.from===square);\r\n        setHighlightedSquares(validMoves.map(move => move.to));\r\n    }\r\n\r\n    let onMouseOutSquare = () => {\r\n        setHighlightedSquares([]);\r\n    }\r\n\r\n    const player1Time=isUserWhite ? gameState?.blackRemainingTimeMs:gameState?.whiteRemainingTimeMs;\r\n    const player2Time=isUserWhite ? gameState?.whiteRemainingTimeMs:gameState?.blackRemainingTimeMs;\r\n    const player1TurnStart=isPlayersTurn ? null:new Date(gameState.movingPlayerTurnStartTime);\r\n    const player2TurnStart=isPlayersTurn ? new Date(gameState.movingPlayerTurnStartTime):null;\r\n   \r\n    // Set CSS for squares that should indicate a possible move\r\n    const squareStyles=Object.fromEntries(highlightedSquares.map(square => [square, {background:\"radial-gradient(circle, #595447 36%, transparent 40%)\",borderRadius: \"50%\"}]))\r\n\r\n    const opponentName=isUserWhite ? gameState.blackPlayer.username:gameState.whitePlayer.username;\r\n\r\n    // Display the chess board\r\n    return (\r\n        <div className=\"container\" id=\"typehead\" >\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                  <div className = \"col game-user-name\">\r\n                    {opponentName}\r\n                  </div>\r\n                    <ChessTimer timeRemainingMs={player1Time} timeTurnStarted={player1TurnStart} />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"row\" >\r\n                <div className=\"col p-0\"  >\r\n                    <Chessboard\r\n                        position={gameState.fenString}\r\n                        calcWidth={calcWidth}\r\n                        orientation={gameState?.whitePlayer.username===thisUser?.username ? \"white\":\"black\"}\r\n                        onDrop={onDrop}\r\n                        onMouseOverSquare={onMouseOverSquare}\r\n                        onMouseOutSquare={onMouseOutSquare} \r\n                        squareStyles={squareStyles}           \r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <ChessTimer timeRemainingMs={player2Time} timeTurnStarted={player2TurnStart} />\r\n                    <div className = \"col game-user-name\">\r\n                      {thisUser.username}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAQAAABKIxwrAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfkDAMWDibCYcZqAAADAElEQVQ4y23ST2gcZRjH8e++s++7O7M7O9ud2cmmSXZT3Jhu0hIWLTXbUBK1HopSCbZEavGmeCiKCko82ApClVSrSIOlt1700JMXLbWCmkCtB7GIBM3BmkTbNDHd/NnsbmbGwzbkD31u7/t8eN73gR9sqXcJcEZFQBAKUqMBp7a2EVuPGnNa4PhAgHDmtG3t9XqUkVC6M/F0xgB7OFwn0OqpYXCM1JGdhc95bDMuAclBORmuJF8wOZB2P4ledM6V0lHsE+FVOZkcbBgIA6wC9TavXftNM8TjvxzwU2FzJfLrK4kxXxd/el1etmEg1JhvE8qsvRiqVp5Z28eSmA4WxA6/hbj2k/FVEIlf8memN6aDhbH0V6wyrE0Yr0e+c+/kqjOR2Uz5YO3l8qn4Z8nyyua/t/CwMs/Ipfi5bFOEY+zXint6tWPEyDUZH8vlxJmCalvH/YB9XJbjH+6L5oBOspb7Xs4qAHn26+aILCefhycbvJk2N/Kzfu0hOweAi9Ohj6c7mgBoZZcduaZutLqZBlckh+SiNah4AgAD67C8Zx3WATiIIjEoF5NDEhB91Kj2iyl7vJVvgddYwevxEms9Fd4GvieLOy6mqv11+hA1enW/EJoozjoA/MCzWr3o4xWPaFcASNEzG5rwOvdE5xD/MiV907t92RsAoMJEgjwE+T8SVQAOcdnz7wTWglpE6MTWQqvhxFjoJgA+sWX1o5pXY/HlAICbXBGaJWq2l4Je3hH6F+p6zswCcIE0u+MdhW6zlU8ByJIz1fXol++LAXgTiJ+U83Yp8eCwYmKX5HzsJLwE4OB2ylv6hb3hnQ/A3RySsYvq75bdzetZDzBPhxesIdj+QhZwjquyeTrYyHwz7a7xtZpOHn1KK2zC7fRp1nNqJvbNLrdl4/otBE5evyrvGR9luosSRoGiTHcZZ+VC9Go6z/217+d9mLOkm/97o3YCT9xQv9fuajuCvfVHhFSXrJG5f17lg+1LNdEVtkvG+ehkpC4CVYtO6ued0oAsbjL/A+lW3QwbAMJcAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTEyLTAzVDIyOjE0OjM4KzAwOjAwwLCobwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0xMi0wM1QyMjoxNDozOCswMDowMLHtENMAAAAASUVORK5CYII=\"","export default __webpack_public_path__ + \"static/media/winningBanner.11fd6f91.png\";","export default __webpack_public_path__ + \"static/media/celebrate.cbc02173.svg\";","export default __webpack_public_path__ + \"static/media/loseBanner.1f834ff7.png\";","export default __webpack_public_path__ + \"static/media/lose.384fb7ee.svg\";","import React, {useEffect, useState} from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {BrowserRouter as Router,Switch, Route,Link} from \"react-router-dom\";\r\nimport loseBanner from '../images/loseBanner.png';\r\nimport lose from '../images/lose.svg';\r\nimport { HistoricalGame , getPlayerStats} from \"../ServerHooks\";\r\nimport { GameStateRouteProps } from './GameStateRoute';\r\nimport {LoadingScreen} from \"../Misc\";\r\n\r\n\r\nexport function getWinLossContent(thisUser:any, opponentName:any,userTime:any,opponentTime:any, totalWinCounter:any, totalLossCounter:any, totalDrawCounter:any, elo:any, stats:any){\r\n\r\n    let content=<LoadingScreen/>;\r\n    if(stats===null||stats.length!==0){\r\n        content=<>\r\n            <p className=\"lead\">\r\n                {thisUser?.username} Vs. {opponentName}\r\n            </p>\r\n            <p className=\"lead\">\r\n                {thisUser?.username} Time Remaining: {userTime} Minutes\r\n            </p>\r\n            <p className=\"lead\">\r\n                {opponentName} Time Remaining: {opponentTime} Minutes\r\n            </p>\r\n            <p className=\"lead\">\r\n                Total Wins: {totalWinCounter}\r\n            </p>\r\n            <p className=\"lead\">\r\n                Total Loss: {totalLossCounter}\r\n            </p>\r\n            <p className=\"lead\">\r\n                Total Draws: {totalDrawCounter}\r\n            </p>\r\n            <p className=\"lead\">\r\n                ELO Score: {elo}\r\n            </p>\r\n        </>\r\n    }\r\n    return content;\r\n}\r\n\r\nexport function GameLost({thisUser,makeMove, gameState}:GameStateRouteProps) {\r\n\r\n  let opponentName = '';\r\n  let opponentTime;\r\n  let userTime;\r\n\r\n  if(gameState){\r\n    if(thisUser?.username === gameState.whitePlayer.username){\r\n      opponentName = gameState.blackPlayer.username;\r\n      opponentTime = new Date(gameState.blackRemainingTimeMs).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n      userTime = new Date(gameState.whiteRemainingTimeMs).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n    }else{\r\n      opponentName = gameState.whitePlayer.username;\r\n      opponentTime = new Date(gameState.whiteRemainingTimeMs).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n      userTime = new Date(gameState.blackRemainingTimeMs).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n    }\r\n  }\r\n\r\n  const [stats,setStats]=useState<null|HistoricalGame[]>(null);\r\n  // Display the user login screen\r\n  useEffect(()=>{\r\n    const func=async()=>{\r\n      const playerStats=await getPlayerStats();\r\n      setStats(playerStats);\r\n    }\r\n    func()\r\n  },[])\r\n\r\n\r\n  let totalWinCounter = 0;\r\n  let totalLossCounter = 0;\r\n  let totalDrawCounter = 0;\r\n\r\n  if(stats){\r\n    for( let i = 0; i<stats.length; i++){\r\n    if(thisUser?.username === stats[i].blackPlayer.username){\r\n      if(stats[i].winner === \"black\"){\r\n          totalWinCounter = totalWinCounter+1;\r\n      }\r\n      else if(stats[i].winner === \"white\"){\r\n        totalLossCounter = totalLossCounter+1;\r\n      }\r\n      else{\r\n        totalDrawCounter = totalDrawCounter+1;\r\n      }\r\n\r\n    }else{\r\n      if(stats[i].winner === \"white\"){\r\n          totalWinCounter = totalWinCounter+1;\r\n      }\r\n      else if(stats[i].winner === \"black\"){\r\n        totalLossCounter = totalLossCounter+1;\r\n      }\r\n      else{\r\n        totalDrawCounter = totalDrawCounter+1;\r\n      }\r\n\r\n    }\r\n  }\r\n  }\r\n\r\n  let elo;\r\n  if(thisUser){\r\n    elo = Math.round(thisUser.elo);\r\n  }\r\n    const content=getWinLossContent(thisUser, opponentName,userTime,opponentTime, totalWinCounter, totalLossCounter, totalDrawCounter, elo, stats)\r\n\r\n\r\n    // Display the statistics of the player when they lose a game\r\n  return(\r\n    <div className=\"container\">\r\n    <div className = \"row\">\r\n      <div className = \"col\">\r\n      <img src={loseBanner} className=\"img-fluid\" alt=\"loseBanner\" />\r\n      </div>\r\n    </div>\r\n\r\n        <div className=\"row\" style={{width:\"50%\",display: \"inline-block\"}}>\r\n            <div className=\"col\" >\r\n                <div className=\"border border-dark content-container bg-white text-dark\" style={{position: \"relative\", left: 0, top: 0}} >\r\n                    {content}\r\n                    <div className = \"row\">\r\n                    <div className = \"col\">\r\n                    <img src={lose} className=\"loseLogo\" alt=\"loseLogo\" style={{width:\"20%\", bottom:\"0\", position:\"absolute\", right:\"0\"}}/>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <p></p>\r\n        <div className=\"container\" style={{width:\"40%\"}}>\r\n        <div className=\"row\"  >\r\n            <div className=\"col\"  >\r\n              <Link className=\"btn btn-secondary \" to=\"./menu\" >Main Menu</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n  );\r\n\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {BrowserRouter as Router,Switch, Route,Link} from \"react-router-dom\";\r\nimport winningBanner from '../images/winningBanner.png';\r\nimport celebration from '../images/celebrate.svg';\r\nimport { GameStateRouteProps } from './GameStateRoute';\r\nimport { HistoricalGame , getPlayerStats} from \"../ServerHooks\";\r\nimport {LoadingScreen} from \"../Misc\";\r\nimport {getWinLossContent} from \"./GameLost\";\r\n\r\nexport function GameWon({thisUser,makeMove, gameState}:GameStateRouteProps) {\r\n\r\n  let opponentName = '';\r\n  let userTime;\r\n  let opponentTime;\r\n  if(gameState){\r\n    if(thisUser?.username === gameState.whitePlayer.username){\r\n      opponentName = gameState.blackPlayer.username;\r\n      opponentTime = new Date(gameState.blackRemainingTimeMs).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n      userTime = new Date(gameState.whiteRemainingTimeMs).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n    }else{\r\n      opponentName = gameState.whitePlayer.username;\r\n      opponentTime = new Date(gameState.whiteRemainingTimeMs).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n      userTime = new Date(gameState.blackRemainingTimeMs).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n    }\r\n  }\r\n\r\n  const [stats,setStats]=useState<null|HistoricalGame[]>(null);\r\n  // Display the user login screen\r\n  useEffect(()=>{\r\n    const func=async()=>{\r\n      const playerStats=await getPlayerStats();\r\n      setStats(playerStats);\r\n    }\r\n    func()\r\n  },[])\r\n\r\n  console.log(stats);\r\n\r\n  let totalWinCounter = 0;\r\n  let totalLossCounter = 0;\r\n  let totalDrawCounter = 0;\r\n\r\n\r\n  if(stats){\r\n    for( let i = 0; i<stats.length; i++){\r\n    if(thisUser?.username === stats[i].blackPlayer.username){\r\n      if(stats[i].winner === \"black\"){\r\n          totalWinCounter = totalWinCounter+1;\r\n      }\r\n      else if(stats[i].winner === \"white\"){\r\n        totalLossCounter = totalLossCounter+1;\r\n      }\r\n      else{\r\n        totalDrawCounter = totalDrawCounter+1;\r\n      }\r\n    }else{\r\n      if(stats[i].winner === \"white\"){\r\n          totalWinCounter = totalWinCounter+1;\r\n      }\r\n      else if(stats[i].winner === \"black\"){\r\n        totalLossCounter = totalLossCounter+1;\r\n      }\r\n      else{\r\n        totalDrawCounter = totalDrawCounter+1;\r\n      }\r\n    }\r\n  }\r\n  }\r\n\r\n  let elo;\r\n  if(thisUser){\r\n    elo = Math.round(thisUser.elo);\r\n  }\r\n    const content=getWinLossContent(thisUser, opponentName,userTime,opponentTime, totalWinCounter, totalLossCounter, totalDrawCounter, elo, stats)\r\n\r\n  // Display the statistics of the player when they win a game\r\n  return(\r\n\r\n    <div className=\"container\">\r\n\r\n      <img src={winningBanner} className=\"img-fluid\" alt=\"winningBanner\" />\r\n      <div className=\"row\">\r\n      <div className=\"col\">\r\n        <img src={celebration} className=\"img-fluid\" alt=\"winIcon\"  />\r\n      </div>\r\n\r\n        <div className=\"row\" style={{width:\"50%\"}}>\r\n            <div className=\"col\" >\r\n                <div className=\"border border-dark content-container bg-white text-dark\" >\r\n                    {content}\r\n                </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <img src={celebration} className=\"img-fluid\" alt=\"winIcon\"  />\r\n          </div>\r\n        </div>\r\n\r\n        <p></p>\r\n        <div className=\"container\" style={{width:\"40%\"}}>\r\n        <div className=\"row\"  >\r\n            <div className=\"col\"  >\r\n              <Link className=\"btn btn-secondary \" to=\"./menu\" >Main Menu</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n  );\r\n\r\n}\r\n","export default __webpack_public_path__ + \"static/media/drawBanner.144ba6ac.png\";","export default __webpack_public_path__ + \"static/media/chess-game.c7632009.svg\";","import React, {useEffect, useState} from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {BrowserRouter as Router,Switch, Route,Link} from \"react-router-dom\";\r\nimport drawBanner from '../images/drawBanner.png';\r\nimport chessGame from '../images/chess-game.svg';\r\nimport { HistoricalGame , getPlayerStats} from \"../ServerHooks\";\r\nimport { GameStateRouteProps } from './GameStateRoute';\r\nimport {LoadingScreen} from \"../Misc\";\r\nimport {getWinLossContent} from \"./GameLost\";\r\n\r\nexport function GameDraw({thisUser,makeMove, gameState}:GameStateRouteProps) {\r\nconst [stats,setStats]=useState<null|HistoricalGame[]>(null);\r\n\r\n    let opponentName = '';\r\n    let userTime;\r\n    let opponentTime;\r\n\r\n    if(gameState){\r\n        if(thisUser?.username === gameState.whitePlayer.username){\r\n            opponentName = gameState.blackPlayer.username;\r\n            opponentTime = new Date(gameState.blackRemainingTimeMs).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n            userTime = new Date(gameState.whiteRemainingTimeMs).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n\r\n        }else{\r\n            opponentName = gameState.whitePlayer.username;\r\n            opponentTime = new Date(gameState.whiteRemainingTimeMs).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n            userTime = new Date(gameState.blackRemainingTimeMs).toLocaleTimeString('en-US', { minute: \"numeric\", second: \"numeric\" });\r\n        }\r\n    }\r\n\r\n\r\n    // Display the user login screen\r\n    useEffect(()=>{\r\n        const func=async()=>{\r\n            const playerStats=await getPlayerStats();\r\n            setStats(playerStats);\r\n        }\r\n        func()\r\n    },[])\r\n\r\n    let totalWinCounter = 0;\r\n    let totalLossCounter = 0;\r\n    let totalDrawCounter = 0;\r\n\r\n    if(stats){\r\n    for( let i = 0; i<stats.length; i++){\r\n    if(thisUser?.username === stats[i].blackPlayer.username){\r\n      if(stats[i].winner === \"black\"){\r\n          totalWinCounter = totalWinCounter+1;\r\n      }\r\n      else if(stats[i].winner === \"white\"){\r\n        totalLossCounter = totalLossCounter+1;\r\n      }\r\n      else{\r\n        totalDrawCounter = totalDrawCounter+1;\r\n      }\r\n\r\n    }else{\r\n      if(stats[i].winner === \"white\"){\r\n          totalWinCounter = totalWinCounter+1;\r\n      }\r\n      else if(stats[i].winner === \"black\"){\r\n        totalLossCounter = totalLossCounter+1;\r\n      }\r\n      else{\r\n        totalDrawCounter = totalDrawCounter+1;\r\n      }\r\n    }\r\n    }\r\n    }\r\n\r\n    let elo;\r\n    if(thisUser){\r\n    elo = Math.round(thisUser.elo);\r\n    }\r\n    const content=getWinLossContent(thisUser, opponentName,userTime,opponentTime, totalWinCounter, totalLossCounter, totalDrawCounter, elo, stats);\r\n\r\n    // Display the player statistics if the game is a draw\r\n    return(\r\n    <div className=\"container\">\r\n      <img src={drawBanner} className=\"img-fluid banner\" alt=\"drawBanner\"  />\r\n      <div className=\"row\">\r\n      <div className=\"col\">\r\n        <img src={chessGame} className=\"img-fluid\" alt=\"drawIcon\" />\r\n      </div>\r\n        <div className=\"row\" style={{width:\"50%\"}}>\r\n\r\n            <div className=\"col\" >\r\n                <div className=\"border border-dark content-container bg-white text-dark\" >\r\n                    {content}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div className=\"col\">\r\n          <img src={chessGame} className=\"img-fluid\" alt=\"drawIcon\"  />\r\n        </div>\r\n        </div>\r\n        <p></p>\r\n        <div className=\"container\" style={{width:\"40%\"}}>\r\n        <div className=\"row\" >\r\n            <div className=\"col\" >\r\n              <Link className=\"btn btn-secondary \" to=\"./menu\" >Main Menu</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n    );\r\n\r\n\r\n}\r\n","import React from 'react';\r\nimport { InputChessMove, User, GameState } from '../ServerHooks';\r\nimport { Game } from './Game';\r\nimport { GameDraw } from './GameDraw';\r\nimport { GameLost } from './GameLost';\r\nimport { GameWon } from './GameWon';\r\n\r\nexport type GameStateRouteProps = {thisUser:User, makeMove:(move:InputChessMove)=>void, gameState:GameState};\r\nexport function GameStateRoute({thisUser, makeMove, gameState}:GameStateRouteProps) {\r\n    let toRender;\r\n    let userColor = gameState?.whitePlayer.username===thisUser?.username ? \"white\":\"black\";\r\n\r\n    if(gameState.winLoss && gameState.winLoss.gameOverState==\"draw\"){\r\n        toRender = <GameDraw thisUser={thisUser} makeMove={makeMove} gameState={gameState}/>\r\n    }\r\n    else if(gameState.winLoss && gameState.winLoss.winner===userColor){\r\n        toRender = <GameWon thisUser={thisUser} makeMove={makeMove} gameState={gameState}/>\r\n    }\r\n    else if(gameState.winLoss && gameState.winLoss.winner!==userColor){\r\n        toRender = <GameLost thisUser={thisUser} makeMove={makeMove} gameState={gameState}/>\r\n    }\r\n    else{\r\n        toRender = <Game thisUser={thisUser} makeMove={makeMove} gameState={gameState}/>\r\n    }\r\n    return toRender;\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport '../../App.css';\r\nimport 'bootswatch/dist/slate/bootstrap.min.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// Contains the display for the queue page.\r\n// Uses a spinning icon to display that the user is waiting in the queue.\r\nexport function Queue() {\r\n    return (\r\n        <div>\r\n            <div className=\"container queue\">\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <div className=\"jumbotron brown-border content-container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col\">\r\n                                    <p className=\"lead\">\r\n                                        Looking for an available opponent<br />\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"col\">\r\n                                    <FontAwesomeIcon icon=\"spinner\" className=\"fa-pulse fa-3x\" style={{ marginLeft: 15 }} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react';\r\nimport { GameStateRoute } from '../GameStateRoute';\r\nimport { Queue } from './Queue';\r\nimport { useChessPlayerState } from '../../ServerHooks';\r\n\r\n// Create 1.5 min long game\r\nexport function BlitzGame(){\r\n    return <QueueOrGame time={90000}/>;\r\n}\r\n\r\n// Create 10 min long game\r\nexport function SpeedGame(){\r\n    return <QueueOrGame time={600000} />;\r\n}\r\n\r\n// Create 30 min long game\r\nexport function RegularGame(){\r\n    return <QueueOrGame time={1.8e6} />;\r\n}\r\n\r\nexport function QueueOrGame({time}:{time:number}) {\r\n    const {thisUser, queueForGame, makeMove, gameState} = useChessPlayerState(console.log);\r\n    const userExists=thisUser!==null;\r\n    // Change state of user to queue for a 30min game\r\n    useEffect(()=>{\r\n        if(userExists){\r\n            queueForGame(time);\r\n        }\r\n    },[userExists,time]);\r\n\r\n    let toRender;\r\n\r\n    if(thisUser?.state===\"queued\"||gameState===null||thisUser===null) {\r\n        toRender = <Queue/>\r\n    }\r\n    else {\r\n        toRender = <GameStateRoute thisUser={thisUser} makeMove={makeMove} gameState={gameState}/>\r\n    }\r\n\r\n    return toRender;\r\n}","import React, { Fragment } from 'react';\r\nimport './App.css';\r\nimport 'bootswatch/dist/slate/bootstrap.min.css';\r\n\r\nimport { PlayerMainMenu } from './RegularUserCode/PlayerMainMenu';\r\nimport { PlayerStatistics } from \"./RegularUserCode/PlayerStatistics\";\r\nimport { Admin } from './Admin';\r\nimport { Header } from './RegularUserCode/header';\r\nimport {Game} from './RegularUserCode/Game'\r\nimport { GameWon } from './RegularUserCode/GameWon';\r\nimport { GameLost } from './RegularUserCode/GameLost';\r\nimport { GameDraw } from './RegularUserCode/GameDraw';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { faChessKing, faSpinner } from '@fortawesome/free-solid-svg-icons';\r\nimport { BlitzGame, RegularGame, SpeedGame } from './RegularUserCode/Queue/QueueOrGame';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  withRouter\r\n} from \"react-router-dom\";\r\n\r\n// This allows Font Awesome icons to be called anywhere within the application.\r\n// To use an icon: add the icon name you want to this and in the import line, use a FontAwesomeIcon tag, and set the icon attribute to the font awesome name.\r\n// e.g. see Queue.tsx\r\nlibrary.add(faChessKing, faSpinner);\r\n\r\n\r\nfunction App() {\r\n  // Switch is required when setting up routes, which allows the app to correctly navigate through different pages.\r\n  // Routes specify which component to display\r\n  // Fragment allows only certain pages to have a header component displayed.\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n    <div className=\"App\">\r\n    <div>\r\n    <Switch>\r\n      <Fragment>\r\n        <Header/>\r\n          <div className=\"App d-flex justify-content-center h-100 align-middle\">\r\n            <Route path='/menu' component={PlayerMainMenu} exact/>\r\n            <Route path='/blitz' component={BlitzGame} exact/>\r\n            <Route path='/speed' component={SpeedGame} exact/>\r\n            <Route path='/regular' component={RegularGame} exact/>\r\n            <Route path='/playerstats' component={PlayerStatistics} exact/>\r\n            <Route path='/admin' component={Admin} exact/>\r\n            <Route path='/Game' component={Game} exact/>\r\n            <Route path='/GameWon' component={GameWon} exact/>\r\n            <Route path='/GameLost' component={GameLost} exact/>\r\n            <Route path='/GameDraw' component={GameDraw} exact/>\r\n          </div>\r\n      </Fragment>\r\n    </Switch>\r\n  </div>\r\n  </div>\r\n  </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}